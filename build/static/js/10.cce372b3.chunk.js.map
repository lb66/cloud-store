{"version":3,"sources":["pages/Login.js"],"names":["Border","styled","div","Title","h1","layout","labelCol","span","wrapperCol","tailLayout","offset","Login","authStore","useStores","history","useHistory","name","onFinish","values","console","log","setUsername","username","setPassword","password","login","then","push","catch","onFinishFailed","errorInfo","Item","label","rules","required","message","placeholder","allowClear","Password","type","htmlType"],"mappings":"yfAMA,IAAMA,EAASC,IAAOC,IAAV,KAQNC,EAAQF,IAAOG,GAAV,KAILC,EAAS,CACbC,SAAU,CACRC,KAAM,GAERC,WAAY,CACVD,KAAM,KAGJE,EAAa,CACjBD,WAAY,CACVE,OAAQ,EAAGH,KAAM,KA8DNI,UA1DD,WAAO,IACXC,EAAcC,cAAdD,UACFE,EAAQC,cAad,OACE,kBAACf,EAAD,KACE,kBAACG,EAAD,qBACA,kBAAC,IAAD,iBACME,EADN,CAEEW,KAAK,QACLC,SAlBW,SAAAC,GACfC,QAAQC,IAAI,WAAYF,GACxBN,EAAUS,YAAYH,EAAOI,UAC7BV,EAAUW,YAAYL,EAAOM,UAC7BZ,EAAUa,QAAQC,MAAK,WAAOZ,EAAQa,KAAK,QAAOC,OAAM,WAAOT,QAAQC,IAAI,gCAevES,eAXiB,SAAAC,GACrBX,QAAQC,IAAI,UAAWU,MAYnB,kBAAC,IAAKC,KAAN,CACEC,MAAM,qBACNhB,KAAK,WACLiB,MAAO,CACL,CACEC,UAAU,EAAMC,QAAS,sDAI7B,kBAAC,IAAD,CAAOC,YAAY,uCAASC,YAAU,KAGxC,kBAAC,IAAKN,KAAN,CACEC,MAAM,eACNhB,KAAK,WACLiB,MAAO,CACL,CACEC,UAAU,EAAMC,QAAS,gDAI7B,kBAAC,IAAMG,SAAP,CAAgBF,YAAY,oCAG9B,kBAAC,IAAKL,KAAStB,EACb,kBAAC,IAAD,CAAQ8B,KAAK,UAAUC,SAAS,UAAhC","file":"static/js/10.cce372b3.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Form, Input, Button } from 'antd'\r\nimport styled from 'styled-components'\r\nimport { useStores } from '../stores'\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst Border = styled.div`\r\nmargin:30px auto;\r\nbox-shadow:2px 2px 10px 0 rgba(0,0,0,0.2);\r\nborder-radius:4px;\r\npadding:20px;\r\nmax-width:600px;\r\nbackground-color:#eeeeee;\r\n`\r\nconst Title = styled.h1`\r\ntext-align:center;\r\n`\r\n\r\nconst layout = {\r\n  labelCol: {\r\n    span: 8,\r\n  },\r\n  wrapperCol: {\r\n    span: 10,\r\n  },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: {\r\n    offset: 8, span: 16,\r\n  },\r\n};\r\n\r\nconst Login = () => {\r\n  const { authStore } = useStores()\r\n  const history=useHistory()\r\n  const onFinish = values => {\r\n    console.log('Success:', values);\r\n    authStore.setUsername(values.username)\r\n    authStore.setPassword(values.password)\r\n    authStore.login().then(() => {history.push('/')}).catch(() => {console.log('登录失败')})\r\n\r\n  };\r\n\r\n  const onFinishFailed = errorInfo => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  return (\r\n    <Border>\r\n      <Title>登录</Title>\r\n      <Form\r\n        {...layout}\r\n        name=\"basic\"\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n      >\r\n        <Form.Item\r\n          label=\"用户名\"\r\n          name=\"username\"\r\n          rules={[\r\n            {\r\n              required: true, message: '您还未输入用户名',\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"请输入用户名\" allowClear />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"密码\"\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              required: true, message: '您还未输入密码',\r\n            },\r\n          ]}\r\n        >\r\n          <Input.Password placeholder=\"请输入密码\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            提交\r\n        </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </Border >\r\n  );\r\n};\r\n\r\nexport default Login"],"sourceRoot":""}